# Copyright 2008 Bernd Steinhauser <berniyh@exherbo.org>
# Distributed under the terms of the GNU General Public License v2
# Based in part upon 'clucene-0.9.20.ebuild' from Gentoo, which is:
#     Copyright 1999-2008 Gentoo Foundation.

MY_P=${PN}-core-${PV}

SUMMARY="High-performance, full-featured text search engine based off of lucene in C++"
HOMEPAGE="http://clucene.sourceforge.net/"
SRC_URI="mirror://sourceforge/clucene/${MY_P}.tar.bz2"

LICENSE="|| ( Apache-2.0 LGPL-2.1 )"
SLOT="1"
PLATFORMS="~amd64"
MYOPTIONS="debug"
#MYOPTIONS="doc"

DEPENDENCIES=""
# Readd when doxygen is available:
#    build:
#        doc? ( >=app-doc/doxygen-1.4.2 )

S="${WORKDIR}/${MY_P}"

src_configure() {
    # Make multithreading optional if it causes problems
    econf \
        $(option_enable debug) \
        $(option_enable debug cnddebug) \
        --enable-multithreading
}

src_compile() {
    default
#    if option doc; then
#    emake doxygen
#    fi
}

src_install() {
    default
#    option doc && dodoc -r "${S}"/doc/html
    dodoc REQUESTS NEWS
}

