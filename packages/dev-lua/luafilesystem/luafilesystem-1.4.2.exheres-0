# Copyright 2009 Mike Kelly
# Distributed under the terms of the GNU General Public License v2

require luaforge flag-o-matic

SUMMARY="a lua filesystem library"
DESCRIPTION="
LuaFileSystem is a Lua library developed to complement the set of
functions related to file systems offered by the standard Lua
distribution.

LuaFileSystem offers a portable way to access the underlying directory
structure and file attributes.
"
HOMEPAGE+=" http://www.keplerproject.org/luafilesystem/"

LICENCES="MIT"
SLOT="0"
PLATFORMS="~amd64 ~x86"
MYOPTIONS=""

DEPENDENCIES="
    build:
        dev-util/pkg-config
    build+run:
        dev-lang/lua
"

src_prepare() {
    luaforge_src_prepare

    append-flags $(pkg-config --cflags lua)
    sed -e "s:\(CFLAGS=\):\1 ${CFLAGS}:" \
        -i "${WORK}"/config || die "sed config failed"
}

