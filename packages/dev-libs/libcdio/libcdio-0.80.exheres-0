# Copyright 2008 Daniel Mierswa <impulze@impulze.org>
# Distributed under the terms of the GNU General Public License v2

SUPPORTED_AUTOCONF=( 2.5 )
SUPPORTED_AUTOMAKE=( 1.10 )

require autotools

SUMMARY="libcdio is a library for CD access."
DESCRIPTION="The GNU Compact Disc Input and Control library contains a library for CD-ROM and CD image access."
HOMEPAGE="http://www.gnu.org/software/${PN}/index.html"
DOWNLOADS="mirror://gnu/${PN}/${PNV}.tar.gz"

UPSTREAM_DOCUMENTATION="http://www.gnu.org/software/${PN}/${PN}.html"

LICENCES="GPL-3"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS="cddb cxx vcdinfo"

DEPENDENCIES="
    build+run:
        >=dev-util/pkg-config-0.9
        cddb? ( >=media-libs/libcddb-1.0.1 )
        vcdinfo? ( >=media-libs/vcdimager-0.7.21 )
"

DEFAULT_SRC_CONFIGURE_OPTION_ENABLES+=(
    cddb cxx 'cxx cpp-progs' 'vcdinfo vcd-info'
)

DEFAULT_SRC_PREPARE_PATCHES+=(
    "${FILES}/${PNV}-fix-pkgconfig.patch"
    -p0 "${FILES}/${PNV}-automagic-cddb.patch"
)
