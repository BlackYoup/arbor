# Copyright 2011 Daniel Mierswa <impulze@impulze.org>
# Distributed under the terms of the GNU General Public License v2

require easy-multibuild

SUMMARY="A cryptographic library that is designed to fit easily in more or less any context"
HOMEPAGE="http://www.lysator.liu.se/~nisse/nettle"
DOWNLOADS="http://www.lysator.liu.se/~nisse/archive/${PNV}.tar.gz"

LICENCES="GPL-2"
SLOT="0"
PLATFORMS="~amd64"
MYOPTIONS="multibuild_c: 32 64"

UPSTREAM_DOCUMENTATION="${HOMEPAGE}/nettle.html [[ lang = en description = manual ]]"

DEPENDENCIES="
    build+run:
        dev-libs/gmp[multibuild_c:*(?)?] [[ note = [ for public key algorithms ] ]]
"

DEFAULT_SRC_CONFIGURE_PARAMS=(
    # only used for benchmarking
    --disable-openssl
)

# TODO:
# configure appends -ggdb3 unconditionally and it seems to be explicitly
# wanted by the author, check what problems arise once it's removed

