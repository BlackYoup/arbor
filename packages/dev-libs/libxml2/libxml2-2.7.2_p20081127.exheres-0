# Copyright 2007-2008 Bo Ã˜rsted Andresen
# Distributed under the terms of the GNU General Public License v2

SUMMARY="XML C Parser and Toolkit v2"
HOMEPAGE="http://www.xmlsoft.org/"
TESTURI="http://www.w3.org/XML/2004/xml-schema-test-suite/xmlschema"
TAR1="2002-01-16"
TAR2="2004-01-14"
#DOWNLOADS="ftp://www.xmlsoft.org/${PN}/${PNV}.tar.gz
DOWNLOADS="http://dev.exherbo.org/~zlin/${PNV}.tar.bz2
    ${TESTURI}${TAR1}/xsts-${TAR1}.tar.gz
    ${TESTURI}${TAR2}/xsts-${TAR2}.tar.gz"

LICENCES="MIT"
SLOT="0"
PLATFORMS="~amd64 ~ppc64 ~x86"
MYOPTIONS="ipv6 python readline"

DEPENDENCIES="build+run:
    python? ( dev-lang/python:= )
    readline? ( sys-libs/readline )"

DEFAULT_SRC_CONFIGURE_OPTION_WITHS=( ipv6 python readline "readline history" )
DEFAULT_SRC_INSTALL_EXTRA_DOCS=( README.tests TODO_SCHEMA )

src_unpack() {
    unpack ${PNV}.tar.bz2
}

src_prepare() {
    ln -s "${FETCHEDDIR}"/xsts-{${TAR1},${TAR2}}.tar.gz xstc/ || \
        die "Failed to install test tarballs"
}

