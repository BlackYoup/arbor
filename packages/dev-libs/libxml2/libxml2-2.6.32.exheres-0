# Copyright 2007 Bo Ã˜rsted Andresen
# Distributed under the terms of the GNU General Public License v2

SUMMARY="XML C Parser and Toolkit v2"
HOMEPAGE="http://www.xmlsoft.org/"
TESTURI="http://www.w3.org/XML/2004/xml-schema-test-suite/xmlschema"
TAR1="2002-01-16"
TAR2="2004-01-14"
SRC_URI="ftp://www.xmlsoft.org/${PN}/${P}.tar.gz
    ${TESTURI}${TAR1}/xsts-${TAR1}.tar.gz
    ${TESTURI}${TAR2}/xsts-${TAR2}.tar.gz"

LICENSE="MIT"
SLOT="0"
PLATFORMS="~amd64 ~x86"
MYOPTIONS="ipv6 python readline"

DEPENDENCIES="build+run:
    python? ( dev-lang/python )
    readline? ( sys-libs/readline )"

src_unpack() {
    unpack ${P}.tar.gz
}

src_prepare() {
    ln -s "${FETCHEDDIR}"/xsts-{${TAR1},${TAR2}}.tar.gz xstc/ || \
        die "Failed to install test tarballs"
}

DEFAULT_SRC_CONFIGURE_OPTION_WITHS=( ipv6 python readline "readline history" )
DEFAULT_SRC_INSTALL_EXTRA_DOCS="README.tests TODO_SCHEMA"

