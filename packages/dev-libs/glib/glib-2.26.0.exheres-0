# Copyright 2007 Bryan Ã˜stergaard <kloeri@exherbo.org>
# Copyright 2008 Saleem Abdulrasool <compnerd@compnerd.org>
# Distributed under the terms of the GNU General Public License v2

require glib

SLOT="2"
PLATFORMS="~amd64 ~arm ~ia64 ~ppc64 ~x86"
MYOPTIONS="doc fam man-pages"

DEPENDENCIES="
    build:
        sys-devel/gettext[>=0.11]
        dev-util/pkg-config[>=0.16]
        doc? ( dev-doc/gtk-doc[>=1.11] )
        man-pages? ( dev-libs/libxslt
                     app-text/docbook-xml-dtd:4.1.2 )
    build+run:
        fam? ( app-admin/gamin )
    test:
        x11-misc/shared-mime-info
        dev-util/desktop-file-utils
        gnome-bindings/pygobject
        dev-python/dbus-python
    suggestion:
        gnome-desktop/gvfs
        sys-apps/dbus
"

DEFAULT_SRC_PREPARE_PATCHES=( "${FILES}"/${PN}-2.24.1-assert-test.patch )

DEFAULT_SRC_CONFIGURE_PARAMS=( '--enable-static' '--disable-selinux' '--disable-xattr' '--with-pcre=internal' )
DEFAULT_SRC_CONFIGURE_OPTION_ENABLES=( 'doc gtk-doc' 'fam' 'man-pages man' )

