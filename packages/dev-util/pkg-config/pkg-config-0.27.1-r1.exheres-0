# Copyright 2007 Bryan Ã˜stergaard
# Distributed under the terms of the GNU General Public License v2

require alternatives
require multiarch

SUMMARY="Helper tool for compiling applications and libraries"
HOMEPAGE="http://www.freedesktop.org/wiki/Software/${PN}"
DOWNLOADS="http://pkgconfig.freedesktop.org/releases/${PNV}.tar.gz"

LICENCES="GPL-2"
SLOT="0"
PLATFORMS="~amd64 ~arm ~ia64 ~ppc64 ~x86"
MYOPTIONS="
    hosts:
        arm-exherbo-linux-gnueabi
        i686-pc-linux-gnu
        x86_64-pc-linux-gnu
"

DEPENDENCIES="
    build+run:
        dev-libs/glib:2[>=2.16][hosts:*(-)?]
"

DEFAULT_SRC_CONFIGURE_PARAMS=( '--disable-static' '--without-internal-glib' )

perform_multiarch_install() {
    local alternatives=(
        pkg-config ${PN} 10

        /usr/${host}/bin/${PN}      pkg-config.${PN}
        /usr/share/aclocal/pkg.m4   pkg.m4.${PN}
    )

    default
    alternatives_for "${alternatives[@]}"
}

