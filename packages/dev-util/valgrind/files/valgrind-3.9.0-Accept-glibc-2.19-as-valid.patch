Upstream: yes

From 5a6882c32b4a5d10c2bdc3be7a6af3a33ba8bbc8 Mon Sep 17 00:00:00 2001
From: mjw <mjw@a5019735-40e9-0310-863c-91ae7b9d1cf9>
Date: Fri, 21 Feb 2014 21:13:55 +0000
Subject: [PATCH] Accept glibc 2.19 as valid.

git-svn-id: svn://svn.valgrind.org/valgrind@13829 a5019735-40e9-0310-863c-91ae7b9d1cf9
---
 trunk/configure.ac | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

diff --git a/trunk/configure.ac b/trunk/configure.ac
index cfab5c2..cb1fdfd 100644
--- a/trunk/configure.ac
+++ b/trunk/configure.ac
@@ -958,6 +958,13 @@ case "${GLIBC_VERSION}" in
 	DEFAULT_SUPP="glibc-2.34567-NPTL-helgrind.supp ${DEFAULT_SUPP}"
 	DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
 	;;
+     2.19)
+	AC_MSG_RESULT(2.19 family)
+	AC_DEFINE([GLIBC_2_19], 1, [Define to 1 if you're using glibc 2.19.x])
+	DEFAULT_SUPP="glibc-2.X.supp ${DEFAULT_SUPP}"
+	DEFAULT_SUPP="glibc-2.34567-NPTL-helgrind.supp ${DEFAULT_SUPP}"
+	DEFAULT_SUPP="glibc-2.X-drd.supp ${DEFAULT_SUPP}"
+	;;
      darwin)
 	AC_MSG_RESULT(Darwin)
 	AC_DEFINE([DARWIN_LIBC], 1, [Define to 1 if you're using Darwin])
@@ -971,8 +978,8 @@ case "${GLIBC_VERSION}" in
 
      *)
 	AC_MSG_RESULT([unsupported version ${GLIBC_VERSION}])
-	AC_MSG_ERROR([Valgrind requires glibc version 2.2 - 2.17])
-	AC_MSG_ERROR([or Darwin libc])
+	AC_MSG_ERROR([Valgrind requires glibc version 2.2 - 2.19])
+	AC_MSG_ERROR([or Darwin or Bionic libc])
 	;;
 esac
 
-- 
1.9.2

