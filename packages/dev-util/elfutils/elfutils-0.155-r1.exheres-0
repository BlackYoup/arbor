# Copyright 2009, 2010 Ingmar Vanhassel
# Distributed under the terms of the GNU General Public License v2

require easy-multibuild
require flag-o-matic

SUMMARY="Libraries/utilities to handle ELF objects"
HOMEPAGE="https://fedorahosted.org/releases/${PN:0:1}/${PN:1:1}/${PN}"
DOWNLOADS="${HOMEPAGE}/${PV}/${PNV}.tar.bz2"

LICENCES="GPL-2"
SLOT="0"
PLATFORMS="~amd64 ~x86"
MYOPTIONS="multibuild_c: 32 64"

DEPENDENCIES="
    build:
        sys-devel/gettext
    build+run:
        !dev-libs/libelf
"

DEFAULT_SRC_CONFIGURE_PARAMS=( '--enable-nls' '--program-prefix=eu-' '--with-bzlib' '--with-zlib'
                               '--with-lzma' )

configure_one_multibuild() {
    # NOTE (abdulras) tests require that the debug information be present in the tools
    append-flags -g
    default
}

