From 4647a78e104c3ca367586a90c2dea2b39b314ac2 Mon Sep 17 00:00:00 2001
From: Wulf C. Krueger <philantrop@exherbo.org>
Date: Sun, 17 May 2009 11:51:23 +0200
Subject: [PATCH] Removed a test that needs specific fonts.
 Reason: cf. Subject
 Upstream: Wants it as it is.

---
 test/unit/CMakeLists.txt    |    2 +-
 test/unit/PagesTreeTest.cpp |   78 -------------------------------------------
 test/unit/PagesTreeTest.h   |   43 -----------------------
 3 files changed, 1 insertions(+), 122 deletions(-)
 delete mode 100644 test/unit/PagesTreeTest.cpp
 delete mode 100644 test/unit/PagesTreeTest.h

diff --git a/test/unit/CMakeLists.txt b/test/unit/CMakeLists.txt
index 2929914..4b1569b 100644
--- a/test/unit/CMakeLists.txt
+++ b/test/unit/CMakeLists.txt
@@ -5,7 +5,7 @@ IF(HAVE_CPPUNIT)
   
   # repeat for each test
   ADD_EXECUTABLE( podofo-test main.cpp EncodingTest.cpp EncryptTest.cpp 
-		  FilterTest.cpp NameTest.cpp PagesTreeTest.cpp 
+		  FilterTest.cpp NameTest.cpp 
                   TokenizerTest.cpp StringTest.cpp VariantTest.cpp )
   ADD_DEPENDENCIES( podofo-test ${PODOFO_DEPEND_TARGET})
   TARGET_LINK_LIBRARIES( podofo-test ${PODOFO_LIB} ${PODOFO_LIB_DEPENDS} ${CPPUNIT_LIBRARIES} )
diff --git a/test/unit/PagesTreeTest.cpp b/test/unit/PagesTreeTest.cpp
deleted file mode 100644
index 4fd6f14..0000000
--- a/test/unit/PagesTreeTest.cpp
+++ /dev/null
@@ -1,78 +0,0 @@
-/***************************************************************************
- *   Copyright (C) 2008 by Dominik Seichter                                *
- *   domseichter@web.de                                                    *
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU Library General Public License as       *
- *   published by the Free Software Foundation; either version 2 of the    *
- *   License, or (at your option) any later version.                       *
- *                                                                         *
- *   This program is distributed in the hope that it will be useful,       *
- *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
- *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
- *   GNU General Public License for more details.                          *
- *                                                                         *
- *   You should have received a copy of the GNU Library General Public     *
- *   License along with this program; if not, write to the                 *
- *   Free Software Foundation, Inc.,                                       *
- *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *
- ***************************************************************************/
-
-#include "PagesTreeTest.h"
-
-#include <podofo.h>
-
-using namespace PoDoFo;
-
-// Registers the fixture into the 'registry'
-CPPUNIT_TEST_SUITE_REGISTRATION( PagesTreeTest );
-
-void PagesTreeTest::setUp()
-{
-}
-
-void PagesTreeTest::tearDown()
-{
-}
-
-void PagesTreeTest::testCreateDelete()
-{
-    PdfMemDocument  writer;
-    PdfPage*        pPage;
-    PdfPainter      painter;
-	PdfFont *		pFont;
-
-    // create font
-	pFont = writer.CreateFont( "Arial" );
-    if( !pFont )
-    {
-        PODOFO_RAISE_ERROR( ePdfError_InvalidHandle );
-    }
-    pFont->SetFontSize( 16.0 );
-
-	// write 1. page
-    pPage = writer.CreatePage( PdfPage::CreateStandardPageSize( ePdfPageSize_A4 ) );
-    painter.SetPage( pPage );
-    painter.SetFont( pFont );
-    painter.DrawText( 200, 200, "Page 1"  );
-    painter.FinishPage();
-    CPPUNIT_ASSERT_EQUAL( writer.GetPageCount(), 1 );
-    
-	// write 2. page
-    pPage = writer.CreatePage( PdfPage::CreateStandardPageSize( ePdfPageSize_A4 ) );
-    painter.SetPage( pPage );
-    painter.DrawText( 200, 200, "Page 2"  );
-    painter.FinishPage();
-    CPPUNIT_ASSERT_EQUAL( writer.GetPageCount(), 2 );
-
-	// try to delete second page, index is 0 based 
-	writer.DeletePages( 1, 1 );
-    CPPUNIT_ASSERT_EQUAL( writer.GetPageCount(), 1 );
-
-	// write 3. page
-    pPage = writer.CreatePage( PdfPage::CreateStandardPageSize( ePdfPageSize_A4 ) );
-    painter.SetPage( pPage );
-    painter.DrawText( 200, 200, "Page 3"  );
-    painter.FinishPage();
-    CPPUNIT_ASSERT_EQUAL( writer.GetPageCount(), 2 );
-}
diff --git a/test/unit/PagesTreeTest.h b/test/unit/PagesTreeTest.h
deleted file mode 100644
index b06e77f..0000000
--- a/test/unit/PagesTreeTest.h
+++ /dev/null
@@ -1,43 +0,0 @@
-/***************************************************************************
- *   Copyright (C) 2008 by Dominik Seichter                                *
- *   domseichter@web.de                                                    *
- *                                                                         *
- *   This program is free software; you can redistribute it and/or modify  *
- *   it under the terms of the GNU Library General Public License as       *
- *   published by the Free Software Foundation; either version 2 of the    *
- *   License, or (at your option) any later version.                       *
- *                                                                         *
- *   This program is distributed in the hope that it will be useful,       *
- *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
- *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
- *   GNU General Public License for more details.                          *
- *                                                                         *
- *   You should have received a copy of the GNU Library General Public     *
- *   License along with this program; if not, write to the                 *
- *   Free Software Foundation, Inc.,                                       *
- *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *
- ***************************************************************************/
-
-#ifndef _PAGES_TREE_TEST_H_
-#define _PAGES_TREE_TEST_H_
-
-#include <cppunit/extensions/HelperMacros.h>
-
-/** This test tests the class PdfPagesTree
- */
-class PagesTreeTest : public CppUnit::TestFixture
-{
-  CPPUNIT_TEST_SUITE( PagesTreeTest );
-  CPPUNIT_TEST( testCreateDelete );
-  CPPUNIT_TEST_SUITE_END();
-
- public:
-  void setUp();
-  void tearDown();
-
-  void testCreateDelete();
-};
-
-#endif // _PAGES_TREE_TEST_H_
-
-
-- 
1.6.3

