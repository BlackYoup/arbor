# Copyright 2008 Anders Ossowicki <arkanoid@exherbo.org>
# Distributed under the terms of the GNU General Public License v2

# Paludis considers 0.30 < 0.2808 but CPAN disagrees. As I can see no sane
# way to auto-extract MY_PNV from PNV safely, I've hardcoded it.
MY_PV="0.30"
MY_PNV="Module-Build-${MY_PV}"
require perl-module [ module_author=KWILLIAMS ] alternatives

SUMMARY="Build and install Perl modules"

SLOT="0"
PLATFORMS="~amd64 ~ppc64 ~x86"
MYOPTIONS=""
WORK="${WORKBASE}/${MY_PNV}"
DEFAULT_SRC_PREPARE_PATCHES=( -p1 "${FILES}/${MY_PNV}-fix-tilde-expansion.patch" )

src_install() {
    perl-module_src_install
    alternatives_for config_data ${MY_PV} ${MY_PV} \
        /usr/bin/config_data config_data-${MY_PV} \
        /usr/share/man/man1/config_data.1 config_data-${MY_PV}.1
}

