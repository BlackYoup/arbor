# Copyright 2012 Michael Thomas
# Distributed under the terms of the GNU General Public License v2
# Based in part upon 'waf.exlib', which is:
#     Copyright 2009 Ingmar Vanhassel

require multilib

export_exlib_phases src_configure

DEPENDENCIES="
    build:
        dev-lang/python:*[>=2.3]
"

ewaf() {
    illegal_in_global_scope

    edo ./tools/waf-light \
        --verbose --verbose \
        --nocache \
        "${@}"
}

waf_src_configure() {
    ewaf configure \
        --prefix=/usr/ \
        --libdir=/usr/$(get_libdir)/ \
        "${WAF_SRC_CONFIGURE_PARAMS[@]}" \
        $(for s in "${WAF_SRC_CONFIGURE_OPTION_ENABLES[@]}" ; do option_enable ${s} ; done)
}
